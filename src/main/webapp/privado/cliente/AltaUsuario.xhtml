<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
    
    <h:head>
        <h:outputStylesheet library="css" name="AltaUsuario.css"/>        
        <title>Registro</title>
    </h:head>
    
    <h:body id="principal">
        <h:form class="contenido">
            <h1>Registro cliente</h1>

            <p:messages id="messages" showDetail="true" closable="true">
                <p:autoUpdate />
            </p:messages>

            <p:fieldset legend="Datos personales" style="margin-bottom:20px">
                <p:panelGrid id="panel1" columns="3" layout="tabular" styleClass="ui-noborder">

                    <p:outputLabel for="nombre" value="Nombre" />
                    <p:inputText id="nombre" value="#{usuarioController.cliente.nombre}" required="true" requiredMessage="Nombre es un campo obligatorio"/>
                    <p:message for="nombre" display="text"/>

                    <p:outputLabel for="primerApellido" value="Primer Apellido" />
                    <p:inputText id="primerApellido" value="#{usuarioController.cliente.apellido1}" required="true" requiredMessage="Primer Apellido es un campo obligatorio"/>
                    <p:message for="primerApellido" />

                    <p:outputLabel for="segundoApellido" value="Segundo Apellido" />
                    <p:inputText id="segundoApellido" value="#{usuarioController.cliente.apellido2}" required="true" requiredMessage="Segundo Apellido es un campo obligatorio"/>
                    <p:message for="segundoApellido" />

                    <p:outputLabel for="sexo" value="Sexo" />
                    <p:selectOneButton id="sexo" value="#{usuarioController.cliente.sexo}">
                        <f:selectItem itemLabel="Masculino" itemValue="M"/>
                        <f:selectItem itemLabel="Femenino" itemValue="F"/>
                    </p:selectOneButton> 
                    <p:message for="sexo" />

                    <p:outputLabel for="fechaNacimiento" value="Fecha de nacimiento" />
                    <p:calendar locale="es" id="fechaNacimiento" value="#{usuarioController.cliente.fechaNacimiento}" pattern="yyyy-MM-dd HH:mm:ss" required="true"  requiredMessage="Fecha de nacimiento es un campo obligatorio"/>
                    <p:message for="fechaNacimiento" />

                </p:panelGrid>
            </p:fieldset>

            <p:fieldset legend="Datos de acceso" style="margin-bottom:20px">
                <p:panelGrid id="panel2" columns="3" layout="tabular" styleClass="ui-noborder">

                    <p:outputLabel for="nombreUsuario" value="Nombre usuario" />
                    <p:inputText id="nombreUsuario" value="#{usuarioController.user.user}" required="true"  requiredMessage="Usuario es un campo obligatorio"/>
                    <p:message for="nombreUsuario" />

                    <p:outputLabel for="password1" value="Contrase単a " />
                    <p:password id="password1" required="true" requiredMessage="Contrase単a es un campo obligatorio" match="password2" feedback="true" validatorMessage="Las claves no coinciden" value="#{usuarioController.user.password}"/>
                    <p:message for="password1"/>

                    <p:outputLabel for="password2" value="Repita contrase単a: " />
                    <p:password id="password2" required="true" requiredMessage="Repita Contrase単a es un campo obligatorio"/>
                    <p:message for="password2"/>

                </p:panelGrid>
            </p:fieldset>

            <p:commandButton value="Registrar" action="#{usuarioController.createCliente()}" update="panel1, panel2"/>

        </h:form>

        <h:outputScript library="js" name="calendario.js" />
    </h:body>
</html>

